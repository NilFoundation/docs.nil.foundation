# Class: ExternalMessageEnvelope

The envelope for an external message (a message sent by a user, a dApp, etc.)

 ExternalMessageEnvelope

## Constructors

### new ExternalMessageEnvelope()

```ts
new ExternalMessageEnvelope(param0): ExternalMessageEnvelope
```

Creates an instance of ExternalMessageEnvelope.

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`param0`

</td>
<td>

[`ExternalMessage`](../type-aliases/ExternalMessage.mdx)

</td>
<td>

The object representing the external message.

</td>
</tr>
</tbody>
</table>

#### Returns

[`ExternalMessageEnvelope`](ExternalMessageEnvelope.mdx)

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:66

## Properties

### authData

```ts
authData: Uint8Array;
```

The auth data attached to the message.

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:53

***

### chainId

```ts
chainId: number;
```

The chain ID.

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:35

***

### data

```ts
data: Uint8Array;
```

The message data.

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:47

***

### isDeploy

```ts
isDeploy: boolean;
```

The flag that determines whether the external message is a deployment message.

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:23

***

### seqno

```ts
seqno: number;
```

The message sequence number.

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:41

***

### to

```ts
to: Uint8Array;
```

The destination address of the message.

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:29

## Methods

### encode()

```ts
encode(): Uint8Array
```

Encodes the external message into a Uint8Array.

#### Returns

`Uint8Array`

The encoded external message.

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:87

***

### encodeWithSignature()

```ts
encodeWithSignature(signer): Promise<object>
```

Encodes the external message with its signature.

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`signer`

</td>
<td>

[`ISigner`](../interfaces/ISigner.mdx)

</td>
<td>

The message signer.

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<`object`\>

The object containing the encoded message and its hash.

##### hash

```ts
hash: Uint8Array;
```

##### raw

```ts
raw: Uint8Array;
```

#### Async

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:137

***

### hash()

```ts
hash(): Uint8Array
```

Provides the hash tree root of the external message.

#### Returns

`Uint8Array`

The hash tree root of the external message.

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:104

***

### hexAddress()

```ts
hexAddress(): 0x${string}
```

Returns the hex address of the given bytes.

#### Returns

`0x${string}`

The hex address.

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:183

***

### send()

```ts
send(client): Promise<0x${string}>
```

Sends the external message.

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`client`

</td>
<td>

[`PublicClient`](PublicClient.mdx)

</td>
<td>

The client sending the message.

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<`0x${string}`\>

The hash of the external message.

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:193

***

### sign()

```ts
sign(signer): Promise<Uint8Array>
```

Signs the external message.

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`signer`

</td>
<td>

[`ISigner`](../interfaces/ISigner.mdx)

</td>
<td>

The message signer.

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<`Uint8Array`\>

The message signature.

#### Async

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:162

***

### signingHash()

```ts
signingHash(): Uint8Array
```

Provides the signing hash of the external message.

#### Returns

`Uint8Array`

The signing hash of the external message.

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:114

***

### updateAuthdata()

```ts
updateAuthdata(signer): Promise<Uint8Array>
```

Updates the authentication data in the external message and returns the result.

#### Parameters

<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>

`signer`

</td>
<td>

[`ISigner`](../interfaces/ISigner.mdx)

</td>
<td>

The auth data signer.

</td>
</tr>
</tbody>
</table>

#### Returns

`Promise`\<`Uint8Array`\>

The signed auth data.

#### Async

#### Defined  
@nilfoundation/niljs/src/encoding/externalMessage.ts:173
